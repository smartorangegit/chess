function changeSlideText(t,i){var e=i.find(".text-element-js");e[0].style.display="block",t.on("beforeChange",function(t,i,n,a){e.css("display","none"),e[a].style.display="block"})}function getDefaulValue(t){var i=[],e=+t.attr("min"),n=+t.attr("max");return i.push(e),i.push(n),i}function objClone(t){return JSON.parse(JSON.stringify(t))}function rangesValue(){for(var t=$(".range__item"),i=0;i<t.length;i++){var e=$(t[i]).find(".js-filter__hidden-values"),n=$(t[i]).find(".js-filter__range"),a=e.attr("min"),s=e.attr("max");e.siblings(".js-filter__text_min").html(a),e.siblings(".js-filter__text_max").html(s),n.ionRangeSlider({min:a,max:s,type:"double",prettify:!0,onChange:onRangeChange})}}function onRangeChange(t){for(var i=t.input,e=0;e<i.length;e++){var n=i.siblings(".js-filter__hidden-values").attr("name");i.siblings(".js-filter__text_min").html(t.from),i.siblings(".js-filter__text_max").html(t.to),void 0!=filter.option[n]?(filter.option[n][0]=+t.from,filter.option[n][1]=+t.to):(filter.option.properties[n]=[],filter.option.properties[n][0]=+t.from,filter.option.properties[n][1]=+t.to)}}function getRoomsNumber(){$(".filter-checkbox").on("click",function(){var t=filter.option.rooms,i=$(this).attr("value");$(this).prop("checked")?t.push(+i):t.forEach(function(e,n){e==+i&&t.splice(n,1)})})}function resetFilter(){$(".filter__button_clear-js").on("click",function(t){t.preventDefault();for(var i=$(".range__item"),e=0;e<i.length;e++){var n=$(i[e]).find(".js-filter__range").data("ionRangeSlider"),a=$(i[e]).find(".js-filter__hidden-values").attr("min"),s=$(i[e]).find(".js-filter__hidden-values").attr("max");$(i[e]).find(".js-filter__text_min").html(a),$(i[e]).find(".js-filter__text_max").html(s),$(i[e]).find(".irs-bar").css({width:"100%",left:"0"}),$(i[e]).find(".from").css("left","0"),$(i[e]).find(".to").css("left","100%"),n.update({from:a,to:s})}$(".filter-checkbox").prop("checked",!1),$(".filter-full-range").find(".range__item").remove(),filterDefautl.option.properties={},filter=objClone(filterDefautl)})}function showFilterPagination(){$(".result-tile-wrap").hasClass("result-tile_active-js")?$(".filter-pagination").css("display","none"):$(".filter-pagination").css("display","block")}function paginationItemShow(t,i,e,n){$(".pagination-num-list__item").remove();var a=i,s=Math.floor(t/a);$(".pagination").find(".pagination-content").remove(),$(".pagination").find(".container").append('<div class="pagination-content"><div class="pagination-prev"><a href="#" class="pagination__link"><span class="pagination-prev__button pagination__button"><svg class="pagination__icon"><use xlink:href="#left-arrow"></use></svg></span></a></div><ul class="pagination-num-list"></ul><div class="pagination-next"><a href="#" class="pagination__link"> <span class="pagination__button pagination-next__button"><svg class="pagination__icon pagination__icon_revers"><use xlink:href="#left-arrow"></use></svg></span></a></div></div>'),t/a>1&&showFilterPagination();for(var l=0;l<=s;l++)$(".pagination-num-list").append("<li class='pagination-num-list__item'><a href='#' class='pagination-num-list__link pagination__button'>"+(l+1)+"</a></li>");$($(".pagination-num-list__link")[0]).addClass("pagination-num-list__link_active"),showDefaultDots($(".pagination-num-list__item")),paginationSendData(e,n)}function showDefaultDots(t){var i=t.length;if(i>5){for(var e=3;e<i-1;e++)$(t[e]).css("display","none");$(t[i-1]).addClass("pagination-num-list__dot_left").css("display","block")}}function paginationSendData(t,i){var e=$(".pagination-num-list__link"),n={url:"http://apivime.smarto.com.ua/ajax",type:"POST",dataType:"json",data:filter,success:function(e){t(e.dataList),i(e.dataList,e.dataTable)},error:function(t){console.log("Error ",t)}};e.on("click",function(t){t.preventDefault(),e.removeClass("pagination-num-list__link_active"),$(this).addClass("pagination-num-list__link_active");var i=$(this).html();filter.page=i,nextShowDots(),$.ajax(n)}),$(".pagination-prev").on("click",function(t){t.preventDefault();var i=e.index($(".pagination-num-list__link_active"));e.removeClass("pagination-num-list__link_active"),+filter.page>=2?($(e[i-1]).addClass("pagination-num-list__link_active"),filter.page=(+filter.page-1).toString()):$(e[0]).addClass("pagination-num-list__link_active"),prevShowDots(),$.ajax(n)}),$(".pagination-next").on("click",function(t){t.preventDefault();var i=e.index($(".pagination-num-list__link_active"));+filter.page<e.length&&(e.removeClass("pagination-num-list__link_active"),$(e[i+1]).addClass("pagination-num-list__link_active"),filter.page=(+filter.page+1).toString()),nextShowDots(),$.ajax(n)})}function nextShowDots(){var t=$(".pagination-num-list__item"),i=$(".pagination-num-list__link_active").closest(".pagination-num-list__item"),e=t.index(i),n=t.length;e>=3&&e<=n-2?(clearItems(t,n),$(t[e+1]).css("display","block"),$(i).addClass("pagination-num-list__dot_left").css("display","block"),e==n-2||e==n-3?$(t[n-1]).removeClass("pagination-num-list__dot_left"):$(t[n-1]).addClass("pagination-num-list__dot_left")):2==e?$(t[3]).css("display","block"):1==e&&(clearItems(t,n),$(t[2]).css("display","block"),$(t[n-1]).addClass("pagination-num-list__dot_left"))}function prevShowDots(){var t=$(".pagination-num-list__item"),i=$(".pagination-num-list__link_active").closest(".pagination-num-list__item"),e=t.index(i),n=t.length;e>=3&&e<=n-2?(clearItems(t,n),$(t[e-1]).addClass("pagination-num-list__dot_left").css("display","block"),$(i).css("display","block"),e==n-2?$(t[n-1]).removeClass("pagination-num-list__dot_left"):$(t[n-1]).addClass("pagination-num-list__dot_left")):2==e&&($(t[3]).css("display","none"),clearItems(t,n),$(t[2]).css("display","block")),$(t[2]).removeClass("pagination-num-list__dot_left")}function clearItems(t,i){for(var e=2;e<=i-2;e++)$(t[e]).removeClass("pagination-num-list__dot_left").css("display","none")}function logSucces(){$(".succes-popup").fadeIn(),setTimeout(function(){$(".succes-popup").fadeOut()},2e3)}$(".form__phone").mask("+38 (099) 999-99-99"),$(".location-list__link").on("click",function(){$(".location-list__link").removeClass("location-list__link_active"),$(".location-list__item").removeClass("location-list__item_active"),$(this).closest(".location-list__item").addClass("location-list__item_active"),$(this).addClass("location-list__link_active")}),1==$(".location-list__item").length&&$(".location-list__item").css("border-radius","5px"),$(".favorites-button").on("click",function(){$(this).find(".favorites-button__icon").addClass("favorites-button__icon_active"),$(this).find(".favorites-button__text").addClass("favorites-button__text_active"),$(this).find(".favorites-button__count").addClass("favorites-button__count_active"),$(".favorites").slideDown()}),$(".favorites-close").on("click",function(){$(".favorites-button").find(".favorites-button__icon").removeClass("favorites-button__icon_active"),$(".favorites-button").find(".favorites-button__text").removeClass("favorites-button__text_active"),$(".favorites-button").find(".favorites-button__count").removeClass("favorites-button__count_active"),$(this).closest(".favorites").slideUp()}),$(".favorites-title-list__item").on("click",function(){var t=$(".favorites-title-list__item"),i=$(this),e=$(".favorites-table-list__item"),n=t.index(this),a=e.eq(n);t.removeClass("favorites-title-list__item_active"),i.addClass("favorites-title-list__item_active"),e.removeClass("favorites-table-list__item_active"),a.addClass("favorites-table-list__item_active")}),function(){function t(t){var i,e,n,a=[];for(i=document.getElementsByClassName("select-items"),e=document.getElementsByClassName("select-selected"),n=0;n<e.length;n++)t==e[n]?a.push(n):e[n].classList.remove("select-arrow-active");for(n=0;n<i.length;n++)a.indexOf(n)&&i[n].classList.add("select-hide")}var i,e,n,a,s,l,o;for(i=document.getElementsByClassName("home-filter__select-wrap"),e=0;e<i.length;e++){for(a=i[e].getElementsByTagName("select")[0],s=document.createElement("DIV"),s.setAttribute("class","select-selected"),s.innerHTML=a.options[a.selectedIndex].innerHTML,i[e].appendChild(s),l=document.createElement("DIV"),l.setAttribute("class","select-items select-hide"),n=1;n<a.length;n++)o=document.createElement("DIV"),o.setAttribute("class","select__item"),o.innerHTML=a.options[n].innerHTML,o.addEventListener("click",function(t){var i,e,n,a,s;for(a=this.parentNode.parentNode.getElementsByTagName("select")[0],s=this.parentNode.previousSibling,e=0;e<a.length;e++)if(a.options[e].innerHTML==this.innerHTML){for(a.selectedIndex=e,s.innerHTML=this.innerHTML,i=this.parentNode.getElementsByClassName("same-as-selected"),n=0;n<i.length;n++)i[n].removeAttribute("class");this.setAttribute("class","select__item same-as-selected");break}s.click()}),l.appendChild(o);i[e].appendChild(l),s.addEventListener("click",function(i){i.stopPropagation(),t(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}document.addEventListener("click",t)}(),resetFilter();