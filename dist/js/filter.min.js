$(".filter-top__button_more").on("click",function(){$(this).toggleClass("filter-top__button_more_active"),$(this).find(".filter-top__button-icon").toggleClass("filter-top__button-icon_active"),$(".filter-full").slideToggle()}),$(".filter-full__button_more").on("click",function(){$(this).toggleClass("filter-full__button_more_active"),$(this).find(".filter-full__button-icon").toggleClass("filter-full__button-icon_active"),$(".filter-settings").slideToggle()}),function(){function t(t){switch(t.status){case 0:return"<li class='entrance-flats__item'><div class='entrance-flats__color-box color-box_green'>"+t.rooms+"</div></li>";case 1:return"<li class='entrance-flats__item'><div class='entrance-flats__color-box color-box_yellow'>"+t.rooms+"</div></li>";case 2:return"<li class='entrance-flats__item'><div class='entrance-flats__color-box color-box_gray'>"+t.rooms+"</div></li>";case 3:return"<li class='entrance-flats__item'><div class='entrance-flats__color-box color-box_dark-gray'>"+t.rooms+"</div></li>";default:return}}function s(t){return t.reduce(function(t,s){return Math.max(t,s)})}function o(t){var o="",r=[];t.forEach(function(t,s){o+="<div class='entrance'><p class='entrance__num'>"+(s+1)+"</p><div class='entrance-flats-wrap'>"+l(t)+"</div></div>",r.push(t.length)});var e=s(r);return{finalMarkup:o,maxFloor:e}}function l(t){var s="";return t.forEach(function(t,o){s+="<ul data-link='dfvb' class='entrance-flats'>"+r(t)+"</ul>"}),s}function r(s){var o="";return s.forEach(function(s){o+=t(s)}),o}var e=[[[{status:0,rooms:3},{status:1,rooms:3},{status:2,rooms:3}],[{status:0,rooms:3},{status:1,rooms:3},{status:2,rooms:3}],[{status:0,rooms:3},{status:1,rooms:3},{status:2,rooms:3}],[{status:0,rooms:3},{status:1,rooms:3},{status:2,rooms:3}]],[[{status:0,rooms:3},{status:1,rooms:3},{status:2,rooms:3}],[{status:0,rooms:3},{status:1,rooms:3},{status:2,rooms:3}],[{status:0,rooms:1},{status:1,rooms:2},{status:3,rooms:3}]]];$(".entrance-wrap").append(o(e).finalMarkup),function(t){for(var s=0;s<t;s++)$(".entrance-floor").append("<li class='entrance-floor__item'>"+(s+1)+"</li>")}(o(e).maxFloor)}(),$(".entrance-flats").hover(function(){var t=$(this).offset().top,s=$(this).closest(".result-tile").offset().top,o=t-s-3,l=$(this).data();$(".floor-plan").css({top:o,display:"block"}),$(".floor-plan__link").attr("href",l)},function(){$(".floor-plan").css("display","none")}),$(".floor-plan").hover(function(){$(this).css("display","block")},function(){$(this).css("display","none")}),$(".result-short__select").on("click",function(){$(this).siblings(".view-list").slideToggle()}),$(".view-list__item").on("click",function(){var t=$(this).find(".view-list__text").html(),s="#"+$(this).find(".view-list__icon").attr("id"),o=$(this).closest(".result-short__select-wrap").find(".result-short__select-icon");$(this).closest(".result-short__select-wrap").find(".result-short__select").html(t),o.find("use").attr("xlink:href",s),$(this).closest(".view-list").css("display","none");var l=$(this).index();0===l?($(".result-plan").fadeIn(),$(".result-tile-wrap").css("display","none")):2===l&&($(".result-tile-wrap").fadeIn(),$(".result-plan").css("display","none"))});